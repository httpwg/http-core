--- draft-ietf-httpbis-messaging-latest.txt	2022-01-09 18:10:59.991159300 +0100
+++ rfc9112-to-be.txt	2022-01-09 13:44:38.787092500 +0100
@@ -2,17 +2,16 @@
 
 
 
-HTTP Working Group                                      R. Fielding, Ed.
-Internet-Draft                                                     Adobe
-Obsoletes: 7230 (if approved)                         M. Nottingham, Ed.
-Intended status: Standards Track                                  Fastly
-Expires: 13 July 2022                                    J. Reschke, Ed.
-                                                              greenbytes
-                                                          9 January 2022
+Internet Engineering Task Force (IETF)                  R. Fielding, Ed.
+Request for Comments: 9112                                         Adobe
+STD: 97                                               M. Nottingham, Ed.
+Obsoletes: 7230                                                   Fastly
+Category: Standards Track                                J. Reschke, Ed.
+ISSN: 2070-1721                                               greenbytes
+                                                            January 2022
 
 
                                 HTTP/1.1
-                  draft-ietf-httpbis-messaging-latest
 
 Abstract
 
@@ -24,36 +23,19 @@
 
    This document obsoletes portions of RFC 7230.
 
-Editorial Note
-
-   This note is to be removed before publishing as an RFC.
-
-   Discussion of this draft takes place on the HTTP working group
-   mailing list (ietf-http-wg@w3.org), which is archived at
-   <https://lists.w3.org/Archives/Public/ietf-http-wg/>.
-
-   Working Group information can be found at <https://httpwg.org/>;
-   source code and issues list for this draft can be found at
-   <https://github.com/httpwg/http-core>.
-
-   The changes in this draft are summarized in Appendix D.21.
-
 Status of This Memo
 
-   This Internet-Draft is submitted in full conformance with the
-   provisions of BCP 78 and BCP 79.
-
-   Internet-Drafts are working documents of the Internet Engineering
-   Task Force (IETF).  Note that other groups may also distribute
-   working documents as Internet-Drafts.  The list of current Internet-
-   Drafts is at https://datatracker.ietf.org/drafts/current/.
-
-   Internet-Drafts are draft documents valid for a maximum of six months
-   and may be updated, replaced, or obsoleted by other documents at any
-   time.  It is inappropriate to use Internet-Drafts as reference
-   material or to cite them other than as "work in progress."
+   This is an Internet Standards Track document.
 
-   This Internet-Draft will expire on 13 July 2022.
+   This document is a product of the Internet Engineering Task Force
+   (IETF).  It represents the consensus of the IETF community.  It has
+   received public review and has been approved for publication by the
+   Internet Engineering Steering Group (IESG).  Further information on
+   Internet Standards is available in Section 2 of RFC 7841.
+
+   Information about the current status of this document, any errata,
+   and how to provide feedback on it may be obtained at
+   https://www.rfc-editor.org/info/rfc9112.
 
 Copyright Notice
 
@@ -61,13 +43,14 @@
    document authors.  All rights reserved.
 
    This document is subject to BCP 78 and the IETF Trust's Legal
-   Provisions Relating to IETF Documents (https://trustee.ietf.org/
-   license-info) in effect on the date of publication of this document.
-   Please review these documents carefully, as they describe your rights
-   and restrictions with respect to this document.  Code Components
-   extracted from this document must include Revised BSD License text as
-   described in Section 4.e of the Trust Legal Provisions and are
-   provided without warranty as described in the Revised BSD License.
+   Provisions Relating to IETF Documents
+   (https://trustee.ietf.org/license-info) in effect on the date of
+   publication of this document.  Please review these documents
+   carefully, as they describe your rights and restrictions with respect
+   to this document.  Code Components extracted from this document must
+   include Revised BSD License text as described in Section 4.e of the
+   Trust Legal Provisions and are provided without warranty as described
+   in the Revised BSD License.
 
    This document may contain material from IETF Documents or IETF
    Contributions published or made publicly available before November
@@ -149,7 +132,7 @@
      B.3.  Conversion of Date Formats
      B.4.  Conversion of Content-Encoding
      B.5.  Conversion of Content-Transfer-Encoding
-     B.6.  MHTML and Line Length Limitations
+     B.6.  MHTML and Line-Length Limitations
    Appendix C.  Changes from Previous RFCs
      C.1.  Changes from HTTP/0.9
      C.2.  Changes from HTTP/1.0
@@ -157,28 +140,6 @@
        C.2.2.  Keep-Alive Connections
        C.2.3.  Introduction of Transfer-Encoding
      C.3.  Changes from RFC 7230
-   Appendix D.  Change Log
-     D.1.  Between RFC7230 and draft 00
-     D.2.  Since draft-ietf-httpbis-messaging-00
-     D.3.  Since draft-ietf-httpbis-messaging-01
-     D.4.  Since draft-ietf-httpbis-messaging-02
-     D.5.  Since draft-ietf-httpbis-messaging-03
-     D.6.  Since draft-ietf-httpbis-messaging-04
-     D.7.  Since draft-ietf-httpbis-messaging-05
-     D.8.  Since draft-ietf-httpbis-messaging-06
-     D.9.  Since draft-ietf-httpbis-messaging-07
-     D.10. Since draft-ietf-httpbis-messaging-08
-     D.11. Since draft-ietf-httpbis-messaging-09
-     D.12. Since draft-ietf-httpbis-messaging-10
-     D.13. Since draft-ietf-httpbis-messaging-11
-     D.14. Since draft-ietf-httpbis-messaging-12
-     D.15. Since draft-ietf-httpbis-messaging-13
-     D.16. Since draft-ietf-httpbis-messaging-14
-     D.17. Since draft-ietf-httpbis-messaging-15
-     D.18. Since draft-ietf-httpbis-messaging-16
-     D.19. Since draft-ietf-httpbis-messaging-17
-     D.20. Since draft-ietf-httpbis-messaging-18
-     D.21. Since draft-ietf-httpbis-messaging-19
    Acknowledgements
    Index
    Authors' Addresses
@@ -190,7 +151,7 @@
    self-descriptive messages for flexible interaction with network-based
    hypertext information systems.  HTTP/1.1 is defined by:
 
-   *  This document
+   *  RFC 9112
 
    *  "HTTP Semantics" [HTTP]
 
@@ -210,8 +171,8 @@
 
    The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
    "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
-   "OPTIONAL" in this document are to be interpreted as described in BCP
-   14 [RFC2119] [RFC8174] when, and only when, they appear in all
+   "OPTIONAL" in this document are to be interpreted as described in
+   BCP 14 [RFC2119] [RFC8174] when, and only when, they appear in all
    capitals, as shown here.
 
    Conformance criteria and considerations regarding error handling are
@@ -294,9 +255,9 @@
    response is interpreted as an unknown or invalid request method), and
    clients are implemented to only expect a response.
 
-   HTTP makes use of some protocol elements similar to the Multipurpose
-   Internet Mail Extensions (MIME) [RFC2045].  See Appendix B for the
-   differences between HTTP and MIME messages.
+   HTTP makes use of some protocol elements similar to Multipurpose
+   Internet Mail Extensions (MIME) [RFC2045].  See Appendix B of this
+   document for the differences between HTTP and MIME messages.
 
 2.2.  Message Parsing
 
@@ -409,9 +370,9 @@
 
 3.  Request Line
 
-   A request-line begins with a method token, followed by a single space
-   (SP), the request-target, another single space (SP), and ends with
-   the protocol version.
+   A request-line begins with a method token, followed by a single SP,
+   the request-target, and another single SP, and ends with the protocol
+   version.
 
      request-line   = method SP request-target SP HTTP-version
 
@@ -445,8 +406,8 @@
      method         = token
 
    The request methods defined by this specification can be found in
-   Section 9 of [HTTP], along with information regarding the HTTP method
-   registry and considerations for defining new methods.
+   Section 9 of [HTTP], along with information regarding the "HTTP
+   Method Registry" and considerations for defining new methods.
 
 3.2.  Request Target
 
@@ -662,7 +623,7 @@
    "https"), the server can reject the request or determine whether a
    configured default applies that is consistent with the incoming
    connection's context.  Context might include connection details like
-   address and port, what security has been applied, and locally-defined
+   address and port, what security has been applied, and locally defined
    information specific to that server's configuration.  An empty
    authority is replaced with the configured default before further
    processing of the request.
@@ -684,9 +645,8 @@
 4.  Status Line
 
    The first line of a response message is the status-line, consisting
-   of the protocol version, a space (SP), the status code, another
-   space, and ending with an OPTIONAL textual phrase describing the
-   status code.
+   of the protocol version, an SP, the status code, and another SP and
+   ending with an OPTIONAL textual phrase describing the status code.
 
      status-line = HTTP-version SP status-code SP [ reason-phrase ]
 
@@ -727,8 +687,8 @@
    reliable channel for information (it might be translated for a given
    locale, overwritten by intermediaries, or discarded when the message
    is forwarded via other versions of HTTP).  A server MUST send the
-   space that separates status-code from the reason-phrase even when the
-   reason-phrase is absent (i.e., the status-line would end with the
+   space that separates the status-code from the reason-phrase even when
+   the reason-phrase is absent (i.e., the status-line would end with the
    three octets SP CR LF).
 
 5.  Field Syntax
@@ -773,7 +733,7 @@
    Historically, HTTP/1.x field values could be extended over multiple
    lines by preceding each extra line with at least one space or
    horizontal tab (obs-fold).  This specification deprecates such line
-   folding except within the message/http media type (Section 10.1).
+   folding except within the "message/http" media type (Section 10.1).
 
      obs-fold     = OWS CRLF RWS
                   ; obsolete line folding
@@ -821,7 +781,7 @@
 
    The presence of a message body in a response depends on both the
    request method to which it is responding and the response status code
-   (Section 4), and corresponds to when content is allowed; see
+   (Section 4), and it corresponds to when content is allowed; see
    Section 6.4 of [HTTP].
 
 6.1.  Transfer-Encoding
@@ -866,7 +826,7 @@
    Unlike Content-Encoding (Section 8.4.1 of [HTTP]), Transfer-Encoding
    is a property of the message, not of the representation, and any
    recipient along the request/response chain MAY decode the received
-   transfer coding(s) or apply additional transfer coding(s) to the
+   transfer coding(s) or apply an additional transfer coding(s) to the
    message body, assuming that corresponding changes are made to the
    Transfer-Encoding field value.  Additional information about the
    encoding parameters can be provided by other header fields not
@@ -998,7 +958,7 @@
        error, unless the field value can be successfully parsed as a
        comma-separated list (Section 5.6.1 of [HTTP]); all values in the
        list are valid; and all values in the list are the same (in which
-       case the message is processed with that single value used as the
+       case, the message is processed with that single value used as the
        Content-Length field value).  If the unrecoverable error is in a
        request message, the server MUST respond with a 400 (Bad Request)
        status code and then close the connection.  If it is in a
@@ -1075,10 +1035,11 @@
    that is being transferred.
 
    All transfer-coding names are case-insensitive and ought to be
-   registered within the HTTP Transfer Coding registry, as defined in
-   Section 7.3.  They are used in the Transfer-Encoding (Section 6.1)
-   and TE (Section 10.1.4 of [HTTP]) header fields (the latter also
-   defining the "transfer-coding" grammar).
+   registered within the "Hypertext Transfer Protocol (HTTP) Transfer
+   Coding Registry", as defined in Section 7.3.  They are used in the
+   Transfer-Encoding (Section 6.1) and TE (Section 10.1.4 of [HTTP])
+   header fields (the latter also defining the "transfer-coding"
+   grammar).
 
 7.1.  Chunked Transfer Coding
 
@@ -1138,10 +1099,11 @@
    The chunked encoding is specific to each connection and is likely to
    be removed or recoded by each recipient (including intermediaries)
    before any higher-level application would have a chance to inspect
-   the extensions.  Hence, use of chunk extensions is generally limited
-   to specialized HTTP services such as "long polling" (where client and
-   server can have shared expectations regarding the use of chunk
-   extensions) or for padding within an end-to-end secured connection.
+   the extensions.  Hence, the use of chunk extensions is generally
+   limited to specialized HTTP services such as "long polling" (where
+   client and server can have shared expectations regarding the use of
+   chunk extensions) or for padding within an end-to-end secured
+   connection.
 
    A recipient MUST ignore unrecognized chunk extensions.  A server
    ought to limit the total length of chunk extensions received in a
@@ -1220,8 +1182,8 @@
 
 7.3.  Transfer Coding Registry
 
-   The "HTTP Transfer Coding Registry" defines the namespace for
-   transfer coding names.  It is maintained at
+   The "Hypertext Transfer Protocol (HTTP) Transfer Coding Registry"
+   defines the namespace for transfer coding names.  It is maintained at
    <https://www.iana.org/assignments/http-parameters>.
 
    Registrations MUST include the following fields:
@@ -1235,11 +1197,11 @@
    Names of transfer codings MUST NOT overlap with names of content
    codings (Section 8.4.1 of [HTTP]) unless the encoding transformation
    is identical, as is the case for the compression codings defined in
-   Section 7.2.
+   Section 7.2 of this document.
 
    The TE header field (Section 10.1.4 of [HTTP]) uses a pseudo-
-   parameter named "q" as rank value when multiple transfer codings are
-   acceptable.  Future registrations of transfer codings SHOULD NOT
+   parameter named "q" as the rank value when multiple transfer codings
+   are acceptable.  Future registrations of transfer codings SHOULD NOT
    define parameters called "q" (case-insensitively) in order to avoid
    ambiguities.
 
@@ -1368,7 +1330,7 @@
    outstanding requests, the client MUST NOT consider that data to be a
    valid response; the client SHOULD close the connection, since message
    delimitation is now ambiguous, unless the data consists only of one
-   or more CRLF (which can be discarded, as per Section 2.2).
+   or more CRLF (which can be discarded per Section 2.2).
 
 9.3.  Persistence
 
@@ -1382,7 +1344,7 @@
    (Section 7.6.1 of [HTTP]) in the most recently received message, if
    any:
 
-   *  If the close connection option is present (Section 9.6), the
+   *  If the "close" connection option is present (Section 9.6), the
       connection will not persist after the current response; else,
 
    *  If the received protocol is HTTP/1.1 (or later), the connection
@@ -1397,21 +1359,21 @@
    *  The connection will close after the current response.
 
    A client that does not support persistent connections MUST send the
-   close connection option in every request message.
+   "close" connection option in every request message.
 
    A server that does not support persistent connections MUST send the
-   close connection option in every response message that does not have
-   a 1xx (Informational) status code.
+   "close" connection option in every response message that does not
+   have a 1xx (Informational) status code.
 
    A client MAY send additional requests on a persistent connection
-   until it sends or receives a close connection option or receives an
+   until it sends or receives a "close" connection option or receives an
    HTTP/1.0 response without a "keep-alive" connection option.
 
    In order to remain persistent, all messages on a connection need to
    have a self-defined message length (i.e., one not defined by closure
    of the connection), as described in Section 6.  A server MUST read
    the entire request message body or close the connection after sending
-   its response, since otherwise the remaining data on a persistent
+   its response; otherwise, the remaining data on a persistent
    connection would be misinterpreted as the next request.  Likewise, a
    client MUST read the entire response message body if it intends to
    reuse the same connection for a subsequent request.
@@ -1538,7 +1500,7 @@
    The "close" connection option is defined as a signal that the sender
    will close this connection after completion of the response.  A
    sender SHOULD send a Connection header field (Section 7.6.1 of
-   [HTTP]) containing the close connection option when it intends to
+   [HTTP]) containing the "close" connection option when it intends to
    close a connection.  For example,
 
    Connection: close
@@ -1549,28 +1511,28 @@
    connection after the response message is complete.
 
    Note that the field name "Close" is reserved, since using that name
-   as a header field might conflict with the close connection option.
+   as a header field might conflict with the "close" connection option.
 
-   A client that sends a close connection option MUST NOT send further
+   A client that sends a "close" connection option MUST NOT send further
    requests on that connection (after the one containing the close) and
    MUST close the connection after reading the final response message
    corresponding to this request.
 
-   A server that receives a close connection option MUST initiate
+   A server that receives a "close" connection option MUST initiate
    closure of the connection (see below) after it sends the final
-   response to the request that contained the close connection option.
-   The server SHOULD send a close connection option in its final
+   response to the request that contained the "close" connection option.
+   The server SHOULD send a "close" connection option in its final
    response on that connection.  The server MUST NOT process any further
    requests received on that connection.
 
-   A server that sends a close connection option MUST initiate closure
+   A server that sends a "close" connection option MUST initiate closure
    of the connection (see below) after it sends the response containing
-   the close connection option.  The server MUST NOT process any further
-   requests received on that connection.
+   the "close" connection option.  The server MUST NOT process any
+   further requests received on that connection.
 
-   A client that receives a close connection option MUST cease sending
+   A client that receives a "close" connection option MUST cease sending
    requests on that connection and close the connection after reading
-   the response message containing the close connection option; if
+   the response message containing the "close" connection option; if
    additional pipelined requests had been sent on the connection, the
    client SHOULD NOT assume that they will be processed by the server.
 
@@ -1632,7 +1594,7 @@
    data already received, but it could indicate that subsequent data
    might have been truncated.  As TLS is not directly aware of HTTP
    message framing, it is necessary to examine the HTTP data itself to
-   determine whether messages were complete.  Handling of incomplete
+   determine whether messages are complete.  Handling of incomplete
    messages is defined in Section 8.
 
    When encountering an incomplete close, a client SHOULD treat as
@@ -1667,7 +1629,7 @@
    The message/http media type can be used to enclose a single HTTP
    request or response message, provided that it obeys the MIME
    restrictions for all "message" types regarding line length and
-   encodings.  Because of the line length limitations, field values
+   encodings.  Because of the line-length limitations, field values
    within message/http are allowed to use line folding (obs-fold), as
    described in Section 5.2, to convey the field value over multiple
    lines.  A recipient of message/http data MUST replace any obsolete
@@ -1697,7 +1659,7 @@
 
    Interoperability considerations:  N/A
 
-   Published specification:  This specification (see Section 10.1).
+   Published specification:  RFC 9112 (see Section 10.1).
 
    Applications that use this media type:  N/A
 
@@ -1711,8 +1673,8 @@
 
                             Macintosh file type code(s):  N/A
 
-   Person and email address to contact for further information:  See Aut
-      hors' Addresses section.
+   Person and email address to contact for further information:
+      See Authors' Addresses section.
 
    Intended usage:  COMMON
 
@@ -1724,8 +1686,8 @@
 
 10.2.  Media Type application/http
 
-   The application/http media type can be used to enclose a pipeline of
-   one or more HTTP request or response messages (not intermixed).
+   The "application/http" media type can be used to enclose a pipeline
+   of one or more HTTP request or response messages (not intermixed).
 
    Type name:  application
 
@@ -1751,7 +1713,7 @@
 
    Interoperability considerations:  N/A
 
-   Published specification:  This specification (see Section 10.2).
+   Published specification:  RFC 9112 (see Section 10.2).
 
    Applications that use this media type:  N/A
 
@@ -1765,8 +1727,8 @@
 
                             Macintosh file type code(s):  N/A
 
-   Person and email address to contact for further information:  See Aut
-      hors' Addresses section.
+   Person and email address to contact for further information:
+      See Authors' Addresses section.
 
    Intended usage:  COMMON
 
@@ -1785,7 +1747,7 @@
 
 11.1.  Response Splitting
 
-   Response splitting (a.k.a.  CRLF injection) is a common technique,
+   Response splitting (a.k.a. CRLF injection) is a common technique,
    used in various attacks on Web usage, that exploits the line-based
    nature of HTTP message framing and the ordered association of
    requests to responses on persistent connections [Klein].  This
@@ -1826,12 +1788,11 @@
 
 11.2.  Request Smuggling
 
-   Request smuggling ([Linhart]) is a technique that exploits
-   differences in protocol parsing among various recipients to hide
-   additional requests (which might otherwise be blocked or disabled by
-   policy) within an apparently harmless request.  Like response
-   splitting, request smuggling can lead to a variety of attacks on HTTP
-   usage.
+   Request smuggling [Linhart] is a technique that exploits differences
+   in protocol parsing among various recipients to hide additional
+   requests (which might otherwise be blocked or disabled by policy)
+   within an apparently harmless request.  Like response splitting,
+   request smuggling can lead to a variety of attacks on HTTP usage.
 
    This specification has introduced new requirements on request
    parsing, particularly with regard to message framing in Section 6.3,
@@ -1971,16 +1932,12 @@
 13.1.  Normative References
 
    [CACHING]  Fielding, R., Ed., Nottingham, M., Ed., and J. Reschke,
-              Ed., "HTTP Caching", Work in Progress, Internet-Draft,
-              draft-ietf-httpbis-cache-latest, January 2022,
-              <https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-
-              cache-latest>.
+              Ed., "HTTP Caching", RFC 9111, DOI 10.17487/RFC9111,
+              January 2022, <https://www.rfc-editor.org/info/rfc9111>.
 
    [HTTP]     Fielding, R., Ed., Nottingham, M., Ed., and J. Reschke,
-              Ed., "HTTP Semantics", Work in Progress, Internet-Draft,
-              draft-ietf-httpbis-semantics-latest, January 2022,
-              <https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-
-              semantics-latest>.
+              Ed., "HTTP Semantics", RFC 9110, DOI 10.17487/RFC9110,
+              January 2022, <https://www.rfc-editor.org/info/rfc9110>.
 
    [RFC1950]  Deutsch, P. and J-L. Gailly, "ZLIB Compressed Data Format
               Specification version 3.3", RFC 1950,
@@ -2092,7 +2049,7 @@
 
 Appendix A.  Collected ABNF
 
-   In the collected ABNF below, list rules are expanded as per
+   In the collected ABNF below, list rules are expanded per
    Section 5.6.1 of [HTTP].
 
    BWS = <BWS, see [HTTP], Section 5.6.3>
@@ -2161,16 +2118,15 @@
 Appendix B.  Differences between HTTP and MIME
 
    HTTP/1.1 uses many of the constructs defined for the Internet Message
-   Format [RFC5322] and the Multipurpose Internet Mail Extensions (MIME)
+   Format [RFC5322] and Multipurpose Internet Mail Extensions (MIME)
    [RFC2045] to allow a message body to be transmitted in an open
    variety of representations and with extensible fields.  However, RFC
-   2045 is focused only on email; applications of HTTP have many
+   2045 is focused only on email, and applications of HTTP have many
    characteristics that differ from email; hence, HTTP has features that
    differ from MIME.  These differences were carefully chosen to
-   optimize performance over binary connections, to allow greater
-   freedom in the use of new media types, to make date comparisons
-   easier, and to acknowledge the practice of some early HTTP servers
-   and clients.
+   optimize performance over binary connections to allow greater freedom
+   in the use of new media types, to make date comparisons easier, and
+   to acknowledge the practice of some early HTTP servers and clients.
 
    This appendix describes specific areas where HTTP differs from MIME.
    Proxies and gateways to and from strict MIME environments need to be
@@ -2191,17 +2147,17 @@
 
    MIME requires that an Internet mail body part be converted to
    canonical form prior to being transferred, as described in Section 4
-   of [RFC2049], and that content with a type of "text" represent line
-   breaks as CRLF, forbidding the use of CR or LF outside of line break
+   of [RFC2049], and that content with a type of "text" represents line
+   breaks as CRLF, forbidding the use of CR or LF outside of line-break
    sequences [RFC2046].  In contrast, HTTP does not care whether CRLF,
    bare CR, or bare LF are used to indicate a line break within content.
 
    A proxy or gateway from HTTP to a strict MIME environment ought to
-   translate all line breaks within text media types to the RFC 2049
-   canonical form of CRLF.  Note, however, this might be complicated by
-   the presence of a Content-Encoding and by the fact that HTTP allows
-   the use of some charsets that do not use octets 13 and 10 to
-   represent CR and LF, respectively.
+   translate all line breaks within text media types to the canonical
+   form of CRLF per [RFC2049].  However, note that this might be
+   complicated by the presence of a Content-Encoding and by the fact
+   that HTTP allows the use of some charsets that do not use octets 13
+   and 10 to represent CR and LF, respectively.
 
    Conversion will break any cryptographic checksums applied to the
    original content unless the original content is already in canonical
@@ -2213,13 +2169,13 @@
    HTTP/1.1 uses a restricted set of date formats (Section 5.6.7 of
    [HTTP]) to simplify the process of date comparison.  Proxies and
    gateways from other protocols ought to ensure that any Date header
-   field present in a message conforms to one of the HTTP/1.1 formats
-   and rewrite the date if necessary.
+   field present in a message conforms to one of the HTTP/1.1 formats;
+   otherwise, rewrite the date if necessary.
 
 B.4.  Conversion of Content-Encoding
 
-   MIME does not include any concept equivalent to HTTP/1.1's Content-
-   Encoding header field.  Since this acts as a modifier on the media
+   MIME does not include any concept equivalent to the Content-Encoding
+   header field of HTTP/1.1.  Since this acts as a modifier on the media
    type, proxies and gateways from HTTP to MIME-compliant protocols
    ought to either change the value of the Content-Type header field or
    decode the representation before forwarding the message.  (Some
@@ -2243,17 +2199,18 @@
    appropriate Content-Transfer-Encoding if doing so will improve the
    likelihood of safe transport over the destination protocol.
 
-B.6.  MHTML and Line Length Limitations
+B.6.  MHTML and Line-Length Limitations
 
-   HTTP implementations that share code with MHTML [RFC2557]
-   implementations need to be aware of MIME line length limitations.
-   Since HTTP does not have this limitation, HTTP does not fold long
-   lines.  MHTML messages being transported by HTTP follow all
-   conventions of MHTML, including line length limitations and folding,
-   canonicalization, etc., since HTTP transfers message-bodies without
-   modification and, aside from the "multipart/byteranges" type
-   (Section 14.6 of [HTTP]), does not interpret the content or any MIME
-   header lines that might be contained therein.
+   HTTP implementations that share code with MIME Encapsulation of
+   Aggregate Documents, such as HTML (MHTML) [RFC2557] implementations
+   need to be aware of MIME line-length limitations.  Since HTTP does
+   not have this limitation, HTTP does not fold long lines.  MHTML
+   messages being transported by HTTP follow all conventions of MHTML,
+   including line-length limitations and folding, canonicalization,
+   etc., since HTTP transfers message-bodies without modification and,
+   aside from the "multipart/byteranges" type (Section 14.6 of [HTTP]),
+   does not interpret the content or any MIME header lines that might be
+   contained therein.
 
 Appendix C.  Changes from Previous RFCs
 
@@ -2273,14 +2230,14 @@
 
    The requirements that clients and servers support the Host header
    field (Section 7.2 of [HTTP]), report an error if it is missing from
-   an HTTP/1.1 request, and accept absolute URIs (Section 3.2) are among
-   the most important changes defined by HTTP/1.1.
+   an HTTP/1.1 request, and accept absolute URIs (Section 3.2 of this
+   document) are among the most important changes defined by HTTP/1.1.
 
    Older HTTP/1.0 clients assumed a one-to-one relationship of IP
-   addresses and servers; there was no other established mechanism for
-   distinguishing the intended server of a request than the IP address
-   to which that request was directed.  The Host header field was
-   introduced during the development of HTTP/1.1 and, though it was
+   addresses and servers; there was no established mechanism for
+   distinguishing the intended server of a request other than the IP
+   address to which that request was directed.  The Host header field
+   was introduced during the development of HTTP/1.1 and, though it was
    quickly implemented by most HTTP/1.0 browsers, additional
    requirements were placed on all HTTP/1.1 requests in order to ensure
    complete adoption.  At the time of this writing, most HTTP-based
@@ -2333,20 +2290,20 @@
    document has been reduced to just the messaging syntax and connection
    management requirements specific to HTTP/1.1.
 
-   Bare CRs have been prohibited outside of content.  (Section 2.2)
+   Bare CRs have been prohibited outside of content (Section 2.2).
 
    The ABNF definition of authority-form has changed from the more
    general authority component of a URI (in which port is optional) to
-   the specific host:port format that is required by CONNECT.
-   (Section 3.2.3)
+   the specific host:port format that is required by CONNECT
+   (Section 3.2.3).
 
-   Required recipients to avoid smuggling/splitting attacks when
-   processing an ambiguous message framing.  (Section 6.1)
+   Recipients are required to avoid smuggling/splitting attacks when
+   processing an ambiguous message framing (Section 6.1).
 
-   In the ABNF for chunked extensions, re-introduced (bad) whitespace
-   around ";" and "=".  Whitespace was removed in [RFC7230], but that
-   change was found to break existing implementations (see [Err4667]).
-   (Section 7.1.1)
+   In the ABNF for chunked extensions, (bad) whitespace around ";" and
+   "=" has been reintroduced.  Whitespace was removed in [RFC7230], but
+   that change was found to break existing implementations (see
+   [Err4667] and Section 7.1.1 of this document).
 
    Trailer field semantics now transcend the specifics of chunked
    encoding.  The decoding algorithm for chunked (Section 7.1.3) has
@@ -2356,343 +2313,16 @@
    definition permits and defines how to merge, and otherwise to discard
    the trailer fields instead of merging.  The trailer part is now
    called the trailer section to be more consistent with the header
-   section and more distinct from a body part.  (Section 7.1.2)
-
-   Disallowed transfer coding parameters called "q" in order to avoid
-   conflicts with the use of ranks in the TE header field.
-   (Section 7.3)
-
-Appendix D.  Change Log
-
-   This section is to be removed before publishing as an RFC.
-
-D.1.  Between RFC7230 and draft 00
-
-   The changes were purely editorial:
-
-   *  Change boilerplate and abstract to indicate the "draft" status,
-      and update references to ancestor specifications.
-
-   *  Adjust historical notes.
-
-   *  Update links to sibling specifications.
-
-   *  Replace sections listing changes from RFC 2616 by new empty
-      sections referring to RFC 723x.
-
-   *  Remove acknowledgements specific to RFC 723x.
-
-   *  Move "Acknowledgements" to the very end and make them unnumbered.
-
-D.2.  Since draft-ietf-httpbis-messaging-00
-
-   The changes in this draft are editorial, with respect to HTTP as a
-   whole, to move all core HTTP semantics into [HTTP]:
-
-   *  Moved introduction, architecture, conformance, and ABNF extensions
-      from RFC 7230 (Messaging) to semantics [HTTP].
-
-   *  Moved discussion of MIME differences from RFC 7231 (Semantics) to
-      Appendix B since they mostly cover transforming 1.1 messages.
-
-   *  Moved all extensibility tips, registration procedures, and
-      registry tables from the IANA considerations to normative
-      sections, reducing the IANA considerations to just instructions
-      that will be removed prior to publication as an RFC.
-
-D.3.  Since draft-ietf-httpbis-messaging-01
-
-   *  Cite RFC 8126 instead of RFC 5226 (<https://github.com/httpwg/
-      http-core/issues/75>)
-
-   *  Resolved erratum 4779, no change needed here
-      (<https://github.com/httpwg/http-core/issues/87>,
-      <https://www.rfc-editor.org/errata/eid4779>)
-
-   *  In Section 7, fixed prose claiming transfer parameters allow bare
-      names (<https://github.com/httpwg/http-core/issues/88>,
-      <https://www.rfc-editor.org/errata/eid4839>)
-
-   *  Resolved erratum 4225, no change needed here
-      (<https://github.com/httpwg/http-core/issues/90>,
-      <https://www.rfc-editor.org/errata/eid4225>)
-
-   *  Replace "response code" with "response status code"
-      (<https://github.com/httpwg/http-core/issues/94>,
-      <https://www.rfc-editor.org/errata/eid4050>)
-
-   *  In Section 9.3, clarify statement about HTTP/1.0 keep-alive
-      (<https://github.com/httpwg/http-core/issues/96>,
-      <https://www.rfc-editor.org/errata/eid4205>)
-
-   *  In Section 7.1.1, re-introduce (bad) whitespace around ";" and "="
-      (<https://github.com/httpwg/http-core/issues/101>,
-      <https://www.rfc-editor.org/errata/eid4667>, <https://www.rfc-
-      editor.org/errata/eid4825>)
-
-   *  In Section 7.3, state that transfer codings should not use
-      parameters named "q" (<https://github.com/httpwg/http-core/
-      issues/15>, <https://www.rfc-editor.org/errata/eid4683>)
-
-   *  In Section 7, mark coding name "trailers" as reserved in the IANA
-      registry (<https://github.com/httpwg/http-core/issues/108>)
-
-D.4.  Since draft-ietf-httpbis-messaging-02
-
-   *  In Section 4, explain why the reason phrase should be ignored by
-      clients (<https://github.com/httpwg/http-core/issues/60>).
-
-   *  Add Section 9.2 to explain how request/response correlation is
-      performed (<https://github.com/httpwg/http-core/issues/145>)
-
-D.5.  Since draft-ietf-httpbis-messaging-03
-
-   *  In Section 9.2, caution against treating data on a connection as
-      part of a not-yet-issued request (<https://github.com/httpwg/http-
-      core/issues/26>)
-
-   *  In Section 7, remove the predefined codings from the ABNF and make
-      it generic instead (<https://github.com/httpwg/http-core/
-      issues/66>)
-
-   *  Use RFC 7405 ABNF notation for case-sensitive string constants
-      (<https://github.com/httpwg/http-core/issues/133>)
-
-D.6.  Since draft-ietf-httpbis-messaging-04
-
-   *  In Section 7.8 of [HTTP], clarify that protocol-name is to be
-      matched case-insensitively (<https://github.com/httpwg/http-core/
-      issues/8>)
-
-   *  In Section 5.2, add leading optional whitespace to obs-fold ABNF
-      (<https://github.com/httpwg/http-core/issues/19>,
-      <https://www.rfc-editor.org/errata/eid4189>)
-
-   *  In Section 4, add clarifications about empty reason phrases
-      (<https://github.com/httpwg/http-core/issues/197>)
-
-   *  Move discussion of retries from Section 9.3.1 into [HTTP]
-      (<https://github.com/httpwg/http-core/issues/230>)
-
-D.7.  Since draft-ietf-httpbis-messaging-05
-
-   *  In Section 7.1.2, the trailer part has been renamed the trailer
-      section (for consistency with the header section) and trailers are
-      no longer merged as header fields by default, but rather can be
-      discarded, kept separate from header fields, or merged with header
-      fields only if understood and defined as being mergeable
-      (<https://github.com/httpwg/http-core/issues/16>)
-
-   *  In Section 2.1 and related Sections, move the trailing CRLF from
-      the line grammars into the message format
-      (<https://github.com/httpwg/http-core/issues/62>)
-
-   *  Moved Section 2.3 down (<https://github.com/httpwg/http-core/
-      issues/68>)
-
-   *  In Section 7.8 of [HTTP], use 'websocket' instead of 'HTTP/2.0' in
-      examples (<https://github.com/httpwg/http-core/issues/112>)
-
-   *  Move version non-specific text from Section 6 into semantics as
-      "payload" (<https://github.com/httpwg/http-core/issues/159>)
-
-   *  In Section 9.8, add text from RFC 2818
-      (<https://github.com/httpwg/http-core/issues/236>)
-
-D.8.  Since draft-ietf-httpbis-messaging-06
-
-   *  In Section 12.4, update the ALPN protocol ID for HTTP/1.1
-      (<https://github.com/httpwg/http-core/issues/49>)
-
-   *  In Section 5, align with updates to field terminology in semantics
-      (<https://github.com/httpwg/http-core/issues/111>)
-
-   *  In Section 7.6.1 of [HTTP], clarify that new connection options
-      indeed need to be registered (<https://github.com/httpwg/http-
-      core/issues/285>)
-
-   *  In Section 1.1, reference RFC 8174 as well
-      (<https://github.com/httpwg/http-core/issues/303>)
-
-D.9.  Since draft-ietf-httpbis-messaging-07
-
-   *  Move TE: trailers into [HTTP] (<https://github.com/httpwg/http-
-      core/issues/18>)
-
-   *  In Section 6.3, adjust requirements for handling multiple content-
-      length values (<https://github.com/httpwg/http-core/issues/59>)
-
-   *  Throughout, replace "effective request URI" with "target URI"
-      (<https://github.com/httpwg/http-core/issues/259>)
-
-   *  In Section 6.1, don't claim Transfer-Encoding is supported by
-      HTTP/2 or later (<https://github.com/httpwg/http-core/issues/297>)
-
-D.10.  Since draft-ietf-httpbis-messaging-08
-
-   *  In Section 2.2, disallow bare CRs (<https://github.com/httpwg/
-      http-core/issues/31>)
-
-   *  Appendix A now uses the sender variant of the "#" list expansion
-      (<https://github.com/httpwg/http-core/issues/192>)
-
-   *  In Section 5, adjust IANA "Close" entry for new registry format
-      (<https://github.com/httpwg/http-core/issues/273>)
-
-D.11.  Since draft-ietf-httpbis-messaging-09
-
-   *  Switch to xml2rfc v3 mode for draft generation
-      (<https://github.com/httpwg/http-core/issues/394>)
-
-D.12.  Since draft-ietf-httpbis-messaging-10
-
-   *  In Section 6.3, note that TCP half-close does not delimit a
-      request; talk about corresponding server-side behavior in
-      Section 9.6 (<https://github.com/httpwg/http-core/issues/22>)
-
-   *  Moved requirements specific to HTTP/1.1 from [HTTP] into
-      Section 3.2 (<https://github.com/httpwg/http-core/issues/182>)
-
-   *  In Section 6.1 (Transfer-Encoding), adjust ABNF to allow empty
-      lists (<https://github.com/httpwg/http-core/issues/210>)
-
-   *  In Section 9.7, add text from RFC 2818
-      (<https://github.com/httpwg/http-core/issues/236>)
-
-   *  Moved definitions of "TE" and "Upgrade" into [HTTP]
-      (<https://github.com/httpwg/http-core/issues/392>)
-
-   *  Moved definition of "Connection" into [HTTP]
-      (<https://github.com/httpwg/http-core/issues/407>)
-
-D.13.  Since draft-ietf-httpbis-messaging-11
-
-   *  Move IANA Upgrade Token Registry instructions to [HTTP]
-      (<https://github.com/httpwg/http-core/issues/450>)
-
-D.14.  Since draft-ietf-httpbis-messaging-12
-
-   *  Moved content of history appendix to Semantics
-      (<https://github.com/httpwg/http-core/issues/451>)
-
-   *  Moved note about "close" being reserved as field name to
-      Section 9.3 (<https://github.com/httpwg/http-core/issues/500>)
-
-   *  Moved table of transfer codings into Section 12.3
-      (<https://github.com/httpwg/http-core/issues/506>)
-
-   *  In Section 13.2, updated the URI for the [Linhart] paper
-      (<https://github.com/httpwg/http-core/issues/517>)
-
-   *  Changed document title to just "HTTP/1.1"
-      (<https://github.com/httpwg/http-core/issues/524>)
-
-   *  In Section 7, moved transfer-coding ABNF to Section 10.1.4 of
-      [HTTP] (<https://github.com/httpwg/http-core/issues/531>)
-
-   *  Changed to using "payload data" when defining requirements about
-      the data being conveyed within a message, instead of the terms
-      "payload body" or "response body" or "representation body", since
-      they often get confused with the HTTP/1.1 message body (which
-      includes transfer coding) (<https://github.com/httpwg/http-core/
-      issues/553>)
-
-D.15.  Since draft-ietf-httpbis-messaging-13
-
-   *  In Section 6.3, clarify that a message needs to be checked for
-      both Content-Length and Transfer-Encoding, before processing
-      Transfer-Encoding, and that ought to be treated as an error, but
-      an intermediary can choose to forward the message downstream after
-      removing the Content-Length and processing the Transfer-Encoding
-      (<https://github.com/httpwg/http-core/issues/617>)
-
-   *  Changed to using "content" instead of "payload" or "payload data"
-      to avoid confusion with the payload of version-specific messaging
-      frames (<https://github.com/httpwg/http-core/issues/654>)
-
-D.16.  Since draft-ietf-httpbis-messaging-14
-
-   *  In Section 9.6, define the close connection option, since its
-      definition was removed from the Connection header field for being
-      specific to 1.1 (<https://github.com/httpwg/http-core/issues/678>)
-
-   *  In Section 3.3, clarify how the target URI is reconstructed when
-      the request-target is not in absolute-form and highlight risk in
-      selecting a default host (<https://github.com/httpwg/http-core/
-      issues/722>)
-
-   *  In Section 7.1, clarify large chunk handling issues
-      (<https://github.com/httpwg/http-core/issues/749>)
-
-   *  In Section 2.2, explicitly close the connection after sending a
-      400 (<https://github.com/httpwg/http-core/issues/750>)
-
-   *  In Section 2.3, refine version requirements for intermediaries
-      (<https://github.com/httpwg/http-core/issues/751>)
-
-   *  In Section 7.1.3, don't remove the Trailer header field
-      (<https://github.com/httpwg/http-core/issues/793>)
-
-   *  In Section 3.2.3, changed the ABNF definition of authority-form
-      from the authority component (in which port is optional) to the
-      host:port format that has always been required by CONNECT
-      (<https://github.com/httpwg/http-core/issues/806>)
-
-D.17.  Since draft-ietf-httpbis-messaging-15
-
-   *  None.
-
-D.18.  Since draft-ietf-httpbis-messaging-16
-
-   This draft addresses mostly editorial issues raised during or past
-   IETF Last Call; see <https://github.com/httpwg/http-core/
-   issues?q=label%3Ah1-messaging+created%3A%3E2021-05-26> for a summary.
-
-   Furthermore:
-
-   *  In Section 6.1, require recipients to avoid smuggling/splitting
-      attacks when processing an ambiguous message framing
-      (<https://github.com/httpwg/http-core/issues/879>)
-
-D.19.  Since draft-ietf-httpbis-messaging-17
-
-   *  In Section 4, rephrase text about status code definitions in
-      [HTTP] (<https://github.com/httpwg/http-core/issues/915>)
-
-   *  In Section 9.2, clarify how to match responses to requests
-      (<https://github.com/httpwg/http-core/issues/915>)
-
-   *  Made reference to [RFC5322] normative, as it is referenced from
-      the ABNF (for "From" header field) (<https://github.com/httpwg/
-      http-core/issues/915>)
-
-   *  In Section 5.2, include text about message/http that previously
-      was in [HTTP] (<https://github.com/httpwg/http-core/issues/923>)
-
-   *  Throughout, disambiguate "selected representation" and "selected
-      response" (now "chosen response") (<https://github.com/httpwg/
-      http-core/issues/958>)
-
-D.20.  Since draft-ietf-httpbis-messaging-18
-
-   *  Improve a few crossrefs into [HTTP] (<https://github.com/httpwg/
-      http-core/issues/966>)
-
-   *  In Section 7.1.2, improve readability of formerly overlong
-      sentence (<https://github.com/httpwg/http-core/issues/966>)
-
-   *  Slightly rephrase Section 9.8 (<https://github.com/httpwg/http-
-      core/pull/972>)
-
-D.21.  Since draft-ietf-httpbis-messaging-19
+   section and more distinct from a body part (Section 7.1.2).
 
-   *  In Section 12.1, change status 'standard' to 'permanent'
-      (<https://github.com/httpwg/http-core/issues/978>)
+   Transfer coding parameters called "q" are disallowed in order to
+   avoid conflicts with the use of ranks in the TE header field
+   (Section 7.3).
 
 Acknowledgements
 
-   See Appendix "Acknowledgements" of [HTTP], which applies to this
-   document as well.
+   See the "Acknowledgements" section in [HTTP], which applies to this
+   document.
 
 Index
 
